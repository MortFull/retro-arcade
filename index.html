<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Retro Arcade</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      position: relative;
      z-index: 1;
      margin: 0;
      overflow: hidden;
    }
    #bgCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; /* behind everything */
    }
  </style>
</head>
<body>
  <!-- Background Canvas -->
  <canvas id="bgCanvas"></canvas>

  <!-- Arcade Menu -->
  <h1>ðŸŽ® Retro Arcade</h1>
  <ul>
    <li><a href="games/pong.html" target="_blank">Pong</a></li>
    <li><a href="games/snake.html" target="_blank">Snake</a></li>
    <li><a href="games/breakout.html" target="_blank">Breakout</a></li>
    <li><a href="games/tetris.html" target="_blank">Tetris</a></li>
    <li><a href="games/pacman.html" target="_blank">Pac-Man</a></li>
    <li><a href="games/spaceinvaders.html" target="_blank">Space Invaders</a></li>
    <li><a href="games/asteroids.html" target="_blank">Asteroids</a></li>
    <li><a href="games/flappy.html" target="_blank">Flappy</a></li>
    <li><a href="games/galaga.html" target="_blank">Galaga</a></li>
    <li><a href="games/frogger.html" target="_blank">Frogger</a></li>
    <li><a href="games/donkeykong.html" target="_blank">Donkey Kong</a></li>
    <li><a href="games/arkanoid.html" target="_blank">Arkanoid</a></li>
  </ul>

  <footer>
    Â© Ivaylo's Arcade
  </footer>

  <!-- Background Animation Script -->
  <script>
    const canvas = document.getElementById("bgCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let stars = [];
    let waveColor = "rgba(255,0,255,0.6)";
    let lastColorChange = Date.now();
    let waveOffset = 0; // vertical ripple offset

    // Generate stars
    for(let i=0;i<150;i++){
      stars.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        r: Math.random()*2
      });
    }

    function drawGrid(){
      ctx.strokeStyle = "rgba(0,255,255,0.2)";
      ctx.lineWidth = 1;
      for(let x=0;x<canvas.width;x+=40){
        ctx.beginPath();
        ctx.moveTo(x,0);
        ctx.lineTo(x,canvas.height);
        ctx.stroke();
      }
      for(let y=0;y<canvas.height;y+=40){
        ctx.beginPath();
        ctx.moveTo(0,y);
        ctx.lineTo(canvas.width,y);
        ctx.stroke();
      }
    }

    function drawStars(){
      ctx.fillStyle = "white";
      for(let s of stars){
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
        ctx.fill();
        // twinkle
        s.r += (Math.random()-0.5)*0.2;
        if(s.r<0) s.r=0.5;
        if(s.r>2) s.r=2;

        // drift downward
        s.y += 0.2;
        if(s.y > canvas.height){
          s.y = 0;
          s.x = Math.random()*canvas.width;
        }
      }
    }

    function drawWave(){
      let time = Date.now()/500;

      // Glow trail effect: draw multiple waves with decreasing opacity
      for(let glow=0; glow<5; glow++){
        ctx.strokeStyle = waveColor.replace("0.6", (0.2 - glow*0.03).toString());
        ctx.lineWidth = 3 + glow;
        ctx.beginPath();
        for(let x=0;x<canvas.width;x+=10){
          let y = canvas.height/2 + waveOffset + Math.sin(x/50 + time)*50 + glow*5;
          ctx.lineTo(x,y);
        }
        ctx.stroke();
      }
    }

    // Cycle wave color every 5 seconds
    function updateWaveColor(){
      if(Date.now()-lastColorChange > 5000){
        const colors = [
          "rgba(255,0,255,0.6)",
          "rgba(0,255,255,0.6)",
          "rgba(255,255,0,0.6)",
          "rgba(0,255,0,0.6)",
          "rgba(255,0,0,0.6)"
        ];
        waveColor = colors[Math.floor(Math.random()*colors.length)];
        lastColorChange = Date.now();
      }
    }

    // Slowly ripple wave upward
    function updateWaveOffset(){
      waveOffset += 0.2; // slow upward drift
      if(waveOffset > canvas.height/2) waveOffset = -canvas.height/2; // reset loop
    }

    function animate(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      drawGrid();
      drawStars();
      drawWave();
      updateWaveColor();
      updateWaveOffset();
      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
